<head>
  <title>kita-suche</title>
</head>

<body>
</body>

<template name="main">
  <div class="container">
    <div class="row">
      <div class="col-md-6">
        {{> map}}
      </div>
      <div class="col-md-6">
        {{> kitaList}}
      </div>
    </div>
    <div class="row">
      <div class="col-md-12 kita-details">
        {{> kitaDetails}}
      </div>
    </div>
  </div>
</template>

<template name="map">
  <div class="map-container">
    {{> googleMap name="kitasMap" options=mapOptions}}
  </div>
</template>

<template name="kitaList">
  <div class="list-group kitas">
    {{#each kitas}}
      <a href="#" class="list-group-item kita {{active}}">
        <h4 class="list-group-item-heading">{{this.name}}</h4>
        <p class="list-group-item-text">{{this.street}}, {{this.zipCode}}</p>
      </a>
    {{/each}}
  </div>
</template>

<template name="kitaDetails">
  <hr>
  {{#if kita}}
    {{#autoForm id="update-kita-form" doc=kita collection="Kitas" type="update" autosave=true}}
        <div class="row">
          <div class="col-md-6">
            {{> afQuickField name="name"}}
            {{> afQuickField name="description"}}
            <div class="row">
              <div class="col-md-6">
                {{> afQuickField name="person"}}
              </div>
              <div class="col-md-6">
                {{> afQuickField name="phone"}}
              </div>
            </div>
            {{> afQuickField name="email"}}
            <div class="row">
              <div class="col-md-6">
                {{> afQuickField name="street"}}
              </div>
              <div class="col-md-6">
                {{> afQuickField name="zipCode"}}
              </div>
            </div>
            {{> afQuickField name="responsible" options="allowed"}}
          </div>
          <div class="col-md-6">
            <div class="row">
              <div class="col-md-6">
                {{> afQuickField name="progress" options="allowed"}}
              </div>
              <div class="col-md-6">
                {{> afQuickField name="status" options="allowed"}}
              </div>
            </div>
            {{> afQuickField name="closingTimes"}}
            {{> afQuickField name="features"}}
            {{> afQuickField name="note"}}
          </div>
        </div>
      {{/autoForm}}
    {{/if}}
</template>